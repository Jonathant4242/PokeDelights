{"version":3,"sources":["scripts/login.js"],"names":["document","addEventListener","registrationForm","getElementById","event","preventDefault","user","firstName","value","lastName","email","address","creditCard","cardNumber","expireDate","cvv","savedCakes","localStorage","setItem","JSON","stringify","alert","window","location","href","loginForm","password","storedUser","parse","getItem","logoutLink","removeItem","loggedInUser","loginLink","dashboardLink","style","display"],"mappings":";AAAAA,SAASC,iBAAiB,mBAAoB,WAE1C,IAAMC,EAAmBF,SAASG,eAAe,qBAC7CD,GACAA,EAAiBD,iBAAiB,SAAU,SAASG,GACjDA,EAAMC,iBAEN,IAAMC,EAAO,CACTC,UAAW,KAAK,cAAcC,MAC9BC,SAAU,KAAK,aAAaD,MAC5BE,MAAO,KAAY,MAAEF,MACrBG,QAAS,KAAc,QAAEH,MACzBI,WAAY,CACRC,WAAY,KAAK,eAAeL,MAChCM,WAAY,KAAK,eAAeN,MAChCO,IAAK,KAAU,IAAEP,OAErBQ,WAAY,IAGhBC,aAAaC,QAAQ,QAAUZ,EAAKI,MAAOS,KAAKC,UAAUd,IAC1De,MAAM,4BAENC,OAAOC,SAASC,KAAO,qBAK/B,IAAMC,EAAYzB,SAASG,eAAe,cACtCsB,GACAA,EAAUxB,iBAAiB,SAAU,SAASG,GAC1CA,EAAMC,iBAEN,IAAMK,EAAQ,KAAY,MAAEF,MACtBkB,EAAW,KAAe,SAAElB,MAE5BmB,EAAaR,KAAKS,MAAMX,aAAaY,QAAQ,QAAUnB,IAEzDiB,GAA2B,aAAbD,GACdT,aAAaC,QAAQ,eAAgBC,KAAKC,UAAUO,IACpDN,MAAM,qBACNC,OAAOC,SAASC,KAAO,oBAEvBH,MAAM,gCAMlB,IAAMS,EAAa9B,SAASG,eAAe,eACvC2B,GACAA,EAAW7B,iBAAiB,QAAS,SAASG,GAC1CA,EAAMC,iBACNY,aAAac,WAAW,gBACxBT,OAAOC,SAASC,KAAO,iBAK/B,IAAMQ,EAAeb,KAAKS,MAAMX,aAAaY,QAAQ,iBAC/CI,EAAYjC,SAASG,eAAe,cACpC+B,EAAgBlC,SAASG,eAAe,kBAE1C6B,GACIC,IAAWA,EAAUE,MAAMC,QAAU,QACrCF,IAAeA,EAAcC,MAAMC,QAAU,UAC7CN,IAAYA,EAAWK,MAAMC,QAAU,YAEvCH,IAAWA,EAAUE,MAAMC,QAAU,UACrCF,IAAeA,EAAcC,MAAMC,QAAU,QAC7CN,IAAYA,EAAWK,MAAMC,QAAU","file":"login.6878919c.js","sourceRoot":"../src","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    // Registration form handler\n    const registrationForm = document.getElementById('registration-form');\n    if (registrationForm) {\n        registrationForm.addEventListener('submit', function(event) {\n            event.preventDefault();\n            \n            const user = {\n                firstName: this['first-name'].value,\n                lastName: this['last-name'].value,\n                email: this['email'].value,\n                address: this['address'].value,\n                creditCard: {\n                    cardNumber: this['card-number'].value,\n                    expireDate: this['expire-date'].value,\n                    cvv: this['cvv'].value\n                },\n                savedCakes: [] // Initialize with an empty array\n            };\n            \n            localStorage.setItem('user_' + user.email, JSON.stringify(user));\n            alert('Registration successful!');\n            \n            window.location.href = './dashboard.html';\n        });\n    }\n\n    // Login form handler\n    const loginForm = document.getElementById('login-form');\n    if (loginForm) {\n        loginForm.addEventListener('submit', function(event) {\n            event.preventDefault();\n            \n            const email = this['email'].value;\n            const password = this['password'].value;\n            \n            const storedUser = JSON.parse(localStorage.getItem('user_' + email));\n            \n            if (storedUser && password === 'password') { // For simplicity, checking against a static password\n                localStorage.setItem('loggedInUser', JSON.stringify(storedUser));\n                alert('Login successful!');\n                window.location.href = './dashboard.html';\n            } else {\n                alert('Invalid email or password.');\n            }\n        });\n    }\n\n    // Handle logout functionality\n    const logoutLink = document.getElementById('logout-link');\n    if (logoutLink) {\n        logoutLink.addEventListener('click', function(event) {\n            event.preventDefault();\n            localStorage.removeItem('loggedInUser');\n            window.location.href = './index.html';\n        });\n    }\n\n    // Display the correct navigation links based on login status\n    const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));\n    const loginLink = document.getElementById('login-link');\n    const dashboardLink = document.getElementById('dashboard-link');\n\n    if (loggedInUser) {\n        if (loginLink) loginLink.style.display = 'none';\n        if (dashboardLink) dashboardLink.style.display = 'inline';\n        if (logoutLink) logoutLink.style.display = 'inline';\n    } else {\n        if (loginLink) loginLink.style.display = 'inline';\n        if (dashboardLink) dashboardLink.style.display = 'none';\n        if (logoutLink) logoutLink.style.display = 'none';\n    }\n});\n"]}